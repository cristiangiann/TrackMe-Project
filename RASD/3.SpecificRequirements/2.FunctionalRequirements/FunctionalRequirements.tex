\documentclass[../../rasd.tex]{subfiles}
\begin{document}

\section{Functional Requirements}
		%requirements and doamin assumptions entail goals
		\subsection{Scenarios}
		\subsection{Use Cases}

			\paragraph{Data4Help}
			\begin{center}
    			\begin{longtable}{| p{.35\linewidth} | p{.65\linewidth} |}
    			\hline
   				Name & User Sign Up\\ \hline
    			Actors & \ic{User}, Data4Help\\ \hline
    			Entry Conditions & \ic{User} successfully installed Data4Help application on their smartphone.\\ \hline
    			Events Flow & 
    				\begin{enumerate}
    					\item \ic{User} taps on "Sign Up" button.
    					\item \ic{User} fills in all required fields for \ic{User} registration.
    					\item \ic{User} taps on "Create an Account" button.
    					\item Data4Help saves \ic{User} information.
    				\end{enumerate}
    			 \\ \hline
    			Exit Condition & \ic{User} successfully registered by Data4Help.\\ \hline
    			Exceptions & 
    			\begin{enumerate}
    					\item Inserted email already registered for another \ic{User}.
    					\item Inserted password is not valid.
    					\item Not all required fields are filled in.
    					\item \ic{User} already signed up.
    				\end{enumerate}
    				\ic{User} is invited to try again signing up.
    				 \\ \hline
    				
    				
       			\end{longtable}
			\end{center}

			\begin{center}
    			\begin{longtable}{| p{.35\linewidth} | p{.65\linewidth} |}
    			\hline
   				Name & Third Party Sign Up\\ \hline
    			Actors & \ic{Third party}, Data4Help \\ \hline
    			Entry Conditions & \ic{Third party} is connected to the \ic{Third party} dedicated website (see \todo{add reference}).\\ \hline
    			Events Flow & 
    				\begin{enumerate}
    					\item \ic{Third party} clicks on "Sign Up" button.
    					\item \ic{Third party} fills in all required fields for \ic{Third party} registration.
    					\item \ic{Third party} clicks on "Create an Account" button.
    					\item Data4Help saves \ic{Third party} information.
    				\end{enumerate}
    			 \\ \hline
    			Exit Condition & \ic{Third party} successfully registered by Data4Help.\\ \hline
    			Exceptions & 
    			\begin{enumerate}
    					\item Inserted email already registered for another \ic{Third party}.
    					\item Inserted password is not valid.
    					\item Not all required fields are filled in.
    					\item \ic{Third party} already signed up.
    				\end{enumerate}
    				\ic{Third party} is invited to try again signing up.
    				 \\ \hline
    			\end{longtable}
			\end{center}

			\begin{center}
    			\begin{longtable}{| p{.35\linewidth} | p{.65\linewidth} |}
    			\hline
   				Name & User Log In\\ \hline
    			Actors & \ic{User}, Data4Help \\ \hline
    			Entry Conditions & \ic{User} successfully registered to Data4Help and installed Data4Help application on their smartphone.\\ \hline
    			Events Flow & 
    				\begin{enumerate}
    					\item \ic{User} enters username.
    					\item \ic{User} enters password.
    					\item \ic{User} taps on "Log In" button.
    					\item Data4Help checks \ic{User} credentials.
    				\end{enumerate}
    			 \\ \hline
    			Exit Condition & \ic{User} is successfully logged in.\\ \hline
    			Exceptions & 
    			\begin{enumerate}
    					\item Inserted username is not valid.
    					\item Inserted password is not correct.
    			\end{enumerate}
    			\ic{User} is invited to try again logging in.
    				 \\ \hline
    			\end{longtable}
			\end{center}

			\begin{center}
    			\begin{longtable}{| p{.35\linewidth} | p{.65\linewidth} |}
    			\hline
   				Name & Third Party Log In\\ \hline
    			Actors & \ic{Third party}, Data4Help \\ \hline
    			Entry Conditions & \ic{Third party} successfully registered to Data4Help and is connected to the \ic{Third party} dedicated website (see \todo{add reference}).\\ \hline
    			Events Flow & 
    				\begin{enumerate}
    					\item \ic{Third party} enters username.
    					\item \ic{Third party} enters password.
    					\item \ic{Third party} clicks on "Log In" button.
    					\item Data4Help checks \ic{Third party} credentials.
    				\end{enumerate}
    			 \\ \hline
    			Exit Condition & \ic{Third party} is successfully logged in.\\ \hline
    			Exceptions & 
    			\begin{enumerate}
    					\item Inserted username is not valid.
    					\item Inserted password is not correct.
    			\end{enumerate}
    			\ic{Third party} is invited to try again logging in .
    				 \\ \hline
    			\end{longtable}
			\end{center}

			\begin{center}
    			\begin{longtable}{| p{.35\linewidth} | p{.65\linewidth} |}
    			\hline
   				Name & Third Party requests User Data\\ \hline
    			Actors & \ic{Third party}, Data4Help, \ic{User} \\ \hline
    			Entry Conditions & \ic{Third party} and \ic{User} successfully registered to Data4Help.\\ \hline
    			Events Flow & 
    				\begin{enumerate}
    					\item \ic{Third party} requests access to specific \ic{User data}.
    					\item Data4Help forwards the request to the specific \ic{User}.
    					\item \ic{User} gives consent to the requesting \ic{Third party} to access their data, unless already given.
    				\end{enumerate}
    			 \\ \hline
    			Exit Condition & Data4Help sends \ic{User data} to the \ic{Third party}.\\ \hline
    			Exceptions & 
    			\begin{enumerate}
    					\item \ic{User} denies consent to their data access by the requesting \ic{Third party}.
    			\end{enumerate}
    				 \\ \hline
    			\end{longtable}
			\end{center}

			\begin{center}
    			\begin{longtable}{| p{.35\linewidth} | p{.65\linewidth} |}
    			\hline
   				Name & Third Party requests Group Data\\ \hline
    			Actors & \ic{Third party}, Data4Help \\ \hline
    			Entry Conditions & \ic{Third party} successfully registered to Data4Help.\\ \hline
    			Events Flow & 
    				\begin{enumerate}
    					\item \ic{Third party} requests access to \ic{Group data}.
    					\item Data4Help checks if the requested data refers to minimum 1000 \ic{Users}.
    				\end{enumerate}
    			 \\ \hline
    			Exit Condition & Data4Help sends \ic{Group data} to the \ic{Third party}.\\ \hline
    			Exceptions & 
    			\begin{enumerate}
    					\item \ic{Group data} refers to less than 1000 \ic{Users}.
    			\end{enumerate}
    				 Data4Help denies \ic{Group data} access to the \ic{Third Party}.
    				 \\ \hline
    			\end{longtable}
			\end{center}

            \begin{center}
                \begin{longtable}{| p{.35\linewidth} | p{.65\linewidth} |}
                \hline
                Name & Third Party subscribes to New Data\\ \hline
                Actors & \ic{Third party}, Data4Help \\ \hline
                Entry Conditions & \ic{Third party} successfully registered to Data4Help and obtained access to \ic{User data} and/or to \ic{Group data}.\\ \hline
                Events Flow & 
                    \begin{enumerate}
                        \item \ic{Third party} requests subscription to \ic{User data} or \ic{Group data}.
                        \item Data4Help registers the \ic{Third party} subscription to new data.
                        \item Each time new data is produced, it is sent to the \ic{Third party}.
                    \end{enumerate}
                 \\ \hline
                Exit Condition & \todo{???}\\ \hline
                Exceptions & 
                \begin{enumerate}
                        \item \todo{???}
                \end{enumerate}
                     \todo{???}
                     \\ \hline
                \end{longtable}
            \end{center}

            \begin{center}
                \begin{longtable}{| p{.35\linewidth} | p{.65\linewidth} |}
                \hline
                Name & User subscribes to a Service\\ \hline
                Actors & \ic{Third party}, \ic{User}, Data4Help \\ \hline
                Entry Conditions & \ic{User} is successfully registered to Data4Help and installed Data4Help application on their smartphone.\\ \hline
                Events Flow & 
                    \begin{enumerate}
                        \item \ic{User} navigates to "Discover" page.
                        \item \ic{User} chooses which \ic{Service} they would like to subscribe to.
                        \item \ic{User} taps on "Add" button.
                        \item \ic{User} gives consent to sharing their data with the specific \ic{Third Party}.
                    \end{enumerate}
                 \\ \hline
                Exit Condition & Data4Help registers the new \ic{Service} for the \ic{User}\\ \hline
                Exceptions & 
                \begin{enumerate}
                        \item \ic{User} does not give consent to sharing their data.
                \end{enumerate}
                     \ic{User} is invited to try again adding the \ic{Service}.
                     \\ \hline
                \end{longtable}
            \end{center}

            \begin{center}
                \begin{longtable}{| p{.35\linewidth} | p{.65\linewidth} |}
                \hline
                Name & User revokes consent to Third Party\\ \hline
                Actors & \ic{Third party}, \ic{User}, Data4Help \\ \hline
                Entry Conditions & \ic{User} gave consent to sharing their data with a \ic{Third Party}.\\ \hline
                Events Flow & 
                    \begin{enumerate}
                        \item \ic{User} navigates to "My Services" page.
                        \item \ic{User} chooses which service they would like to revoke consent.
                        \item \ic{User} taps on "Revoke consent" button.
                    \end{enumerate}
                 \\ \hline
                Exit Condition & Data4Help stops sharing the data of the \ic{User} with the specific \ic{Third Party}.\\ \hline
                Exceptions & 
                \begin{enumerate}
                        \item \todo{???}
                \end{enumerate}
                     \todo{???}
                     \\ \hline
                \end{longtable}
            \end{center}

			
            \todo{? ? ? Collect data --> probably it is not a use case, but regular product function
			? ? ? User manages data (gdpr)}


			\paragraph{AutomatedSOS}

            \begin{center}
                \begin{longtable}{| p{.35\linewidth} | p{.65\linewidth} |}
                \hline
                Name & User in need assisted by AutomatedSOS\\ \hline
                Actors & \ic{User}, AutomatedSOS, Local emergency services \\ \hline
                Entry Conditions & \ic{User} is subscribed to AutomatedSOS and installed Data4Help application on their smartphone.\\ \hline
                Events Flow & 
                    \begin{enumerate}
                        \item AutomatedSOS identifies {User data} as \ic{anomalous data}.
                        \item \ic{User} is identified as \ic{User in need}.
                        \item AutomatedSOS calls local emergency services requesting an ambulance.
                        \item AutomatedSOS sends \ic{User data} including GPS location and health data to local emergency services.
                        \item Local emergency services send an ambulance to the location of the \ic{User in need}.
                    \end{enumerate}
                 \\ \hline
                Exit Condition & \ic{User in need} is assisted by local emergency services.\\ \hline
                Exceptions & 
                \begin{enumerate}
                        \item \todo{???}
                \end{enumerate}
                     \todo{???}
                     \\ \hline
                \end{longtable}
            \end{center}

        
			\paragraph{Track4Run}

            \begin{center}
                \begin{longtable}{| p{.35\linewidth} | p{.65\linewidth} |}
                \hline
                Name & Organizer creates a Run\\ \hline
                Actors & \ic{Organizer}, Track4Run \\ \hline
                Entry Conditions & \ic{Organizer} is connected to the \ic{Run} creation dedicated website (see \todo{add reference}).\\ \hline
                Events Flow & 
                    \begin{enumerate}
                        \item \ic{Organizer} fills in all required fields for \ic{Run} creation.
                        \item \ic{Organizer} clicks on "Create Run" button.
                    \end{enumerate}
                 \\ \hline
                Exit Condition & Track4Run creates the \ic{Run} defined by the \ic{Organizer}.\\ \hline
                Exceptions & 
                \begin{enumerate}
                        \item \item Not all required fields are filled in.
                \end{enumerate}
                     \ic{Organizer} is invited to try again creating the \ic{Run}.
                     \\ \hline
                \end{longtable}
            \end{center}

            \begin{center}
                \begin{longtable}{| p{.35\linewidth} | p{.65\linewidth} |}
                \hline
                Name & Participant enrolls in a Run\\ \hline
                Actors & \ic{Participant}, Track4Run \\ \hline
                Entry Conditions & \ic{Participant} is a Data4Help \ic{User}, is subscribed to Track4Run and installed Data4Help application on their smartphone.\\ \hline
                Events Flow & 
                    \begin{enumerate}
                        \item \ic{Participant} navigates to "My Services" page.
                        \item \ic{Participant} taps on Track4Run.
                        \item \ic{Participant} taps on the \ic{Run} they wish to enroll in.
                        \item \ic{Participant} taps on "Enroll" button.
                    \end{enumerate}
                 \\ \hline
                Exit Condition & Track4Run registers the \ic{Participant} as enrolled in the \ic{Run}.\\ \hline
                Exceptions & 
                \begin{enumerate}
                        \item No \ic{Runs} are listed.
                        \item All listed \ic{Runs} reached the maximum number of participants.
                \end{enumerate}
                     \ic{Participant} is invited to try again later enrolling in a \ic{Run}.
                     \\ \hline
                \end{longtable}
            \end{center}

            \begin{center}
                \begin{longtable}{| p{.35\linewidth} | p{.65\linewidth} |}
                \hline
                Name & Spectator watches a Run\\ \hline
                Actors & \ic{Spectator} \\ \hline
                Entry Conditions & \ic{Spectator} is connected to the \ic{Spectators} dedicated website (see \todo{add reference}).\\ \hline
                Events Flow & 
                    \begin{enumerate}
                        \item \ic{Spectator} clicks on the \ic{Run} they would like to watch.
                        \item \ic{Spectator} watches the position of the \ic{Participants} of the \ic{Run}. 
                    \end{enumerate}
                 \\ \hline
                Exit Condition & The \ic{Run} is over.\\ \hline
                Exceptions & 
                \begin{enumerate}
                        \item No \ic{Runs} are listed.
                        \item The \ic{Spectator} disconnects from the \ic{Spectators} dedicated website.
                \end{enumerate}
                     Concerning Exception 1 (\todo{add reference}), \ic{Spectator} is invited to try again later watching a \ic{Run}. For Exception 2 (\todo{add reference}), no action is taken.
                     \\ \hline
                \end{longtable}
            \end{center}

            \todo{??? participant runs in a run ???}

\end{document}